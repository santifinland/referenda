<div class="layer-laws">

  <div class="laws">
    <div class="law" *ngFor="let law of lawsToShow()">

      <div class="law-headline" [style.background-image]="'url(../../assets/img/' + law.area[0] + '.jpg)'">
        <div class="headline-featured">
          <h2 class="headline-h2" [ngClass]="{headlinefeatured: law.featured}">
            <a routerLink="/ley/{{law.slug}}">{{law.headline}}</a>
          </h2>
          <div class="featured" *ngIf="law.featured">
            &nbsp;Â¡A debate esta semana en el Congreso de los Diputados!
          </div>
        </div>
        <div class="category">{{law.area}}</div>
      </div>

      <div class="law-info">
        <div class="texto">{{law.short_description}}</div>
        <!--<div class="voto">A&uacute;n no has votado esta propuesta</div>-->
        <div class="botones">
          <div
            [ngClass]="{boton: true, si: true, disabled: !law.isPositive || law.checkNegative || law.checkAbstention}"
            (mouseover)="law.checkPositive=true" (mouseleave)="law.checkPositive=false">S&Iacute;
          </div>
          <div
            [ngClass]="{boton: true, no: true, disabled: !law.isNegative || law.checkPositive || law.checkAbstention}"
            (mouseover)="law.checkNegative=true" (mouseleave)="law.checkNegative=false">NO
          </div>
          <div
            [ngClass]="{boton: true, abs: true, disabled: !law.isAbstention || law.checkPositive || law.checkNegative}"
            (mouseover)="law.checkAbstention=true" (mouseleave)="law.checkAbstention=false">ABS
          </div>
          <div class="boton more disabled" routerLink="/ley/{{law.slug}}">LEER M&Aacute;S</div>
        </div>
        <div class="percentage">
          <div class="percentage-bar">
            <div class="percentage-bar-value" [style.width.%]="law.positivePercentage + 1"
                 *ngIf="law.isPositive && !law.checkNegative && !law.checkAbstention || law.checkPositive"></div>
            <div class="percentage-bar-value" [style.width.%]="law.negativePercentage + 1"
                 *ngIf="law.isNegative && !law.checkPositive && !law.checkAbstention || law.checkNegative"></div>
            <div class="percentage-bar-value" [style.width.%]="law.abstentionPercentage + 1"
                 *ngIf="law.isAbstention && !law.checkPositive && !law.checkNegative || law.checkAbstention"></div>
          </div>
          <div class="percentage-value" [style.width.%]="law.positivePercentage + 4"
               *ngIf="law.isPositive && !law.checkNegative && !law.checkAbstention || law.checkPositive">
            {{law.positivePercentage | number:'1.0-0'}}%
          </div>
          <div class="percentage-value" [style.width.%]="law.negativePercentage + 4"
               *ngIf="law.isNegative && !law.checkPositive && !law.checkAbstention || law.checkNegative">
            {{law.negativePercentage | number:'1.0-0'}}%
          </div>
          <div class="percentage-value" [style.width.%]="law.abstentionPercentage + 4"
               *ngIf="law.isAbstention && !law.checkPositive && !law.checkNegative || law.checkAbstention">
            {{law.abstentionPercentage | number:'1.0-0'}}%
          </div>
        </div>
      </div>

    </div>
  </div>

  <div class="searcher" [ngStyle]="{'height.px': maxHeight}">
    <div class="searcher-title searcher-text">Busca una ley o proposici&oacute;n</div>
    <div class="searcher-title-container">
      <div class="searcher-title-mobile" (click)="showSmartphoneMenu(true)">
        BUSCA UNA LEY O PROPOSICI&Oacute;N
      </div>
      <div class="smartphone-menu-show" *ngIf="!smartphoneMenu" (click)="showSmartphoneMenu(true)"></div>
      <div class="smartphone-menu-hide" *ngIf="smartphoneMenu" (click)="showSmartphoneMenu(false)"></div>
    </div>
    <div class="searcher-input-container" *ngIf="smartphoneMenu">
      <input class="search-input searcher-text" [(ngModel)]="headline"
             placeholder="Escribe aqu&iacute; tus palabras clave">
    </div>
    <div class="searcher-title-category-type" *ngIf="smartphoneMenu">Elige una categor&iacute;a</div>
    <div class="law-area" *ngIf="smartphoneMenu">
      <div class="searcher-small-box searcher-text"
           [ngClass]="{active: area==='educacion'}" (click)="toggleArea('educacion')">Educaci&oacute;n</div>
      <div class="searcher-small-box searcher-text"
           [ngClass]="{active: area==='sanidad'}" (click)="toggleArea('sanidad')">Sanidad</div>
      <div class="searcher-small-box searcher-text"
           [ngClass]="{active: area==='economia'}" (click)="toggleArea('economia')">Econom&iacute;a</div>
      <div class="searcher-small-box searcher-text"
           [ngClass]="{active: area==='justicia'}" (click)="toggleArea('justicia')">Justicia</div>
      <div class="searcher-small-box searcher-text"
           [ngClass]="{active: area==='exteriores'}" (click)="toggleArea('exteriores')">Exteriores</div>
      <div class="searcher-small-box searcher-text"
           [ngClass]="{active: area==='defensa'}" (click)="toggleArea('defensa')">Defensa</div>
      <div class="searcher-small-box searcher-text"
           [ngClass]="{active: area==='interior'}" (click)="toggleArea('interior')">Interior</div>
      <div class="searcher-small-box searcher-text"
           [ngClass]="{active: area==='agricultura'}" (click)="toggleArea('agricultura')">Agricultura</div>
      <div class="searcher-small-box searcher-text"
           [ngClass]="{active: area==='infraestructuras'}" (click)="toggleArea('infraestructuras')">Infraestructuras</div>
      <div class="searcher-small-box searcher-text"
           [ngClass]="{active: area==='cultura'}" (click)="toggleArea('cultura')">Cultura</div>
    </div>
    <div class="searcher-title-category-type" *ngIf="smartphoneMenu">Elige el tipo de propuesta</div>
    <div class="law-type" *ngIf="smartphoneMenu">
      <div class="searcher-large-box searcher-text"
           [ngClass]="{active: lawType==='legislativa'}" (click)="toggleType('legislativa')">
        Propuesta legislativas
      </div>
      <div class="searcher-large-box searcher-text"
           [ngClass]="{active: lawType==='orientacion'}" (click)="toggleType('orientacion')">
        Propuesta de orientaci&oacute;n pol&iacute;tica
      </div>
    </div>
  </div>

</div>
